<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trafik Ä°ÅŸaretleri Oyunu</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Rubik:wght@500;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <div id="game-container">



        <!-- Game Area -->
        <div id="game-area" class="hidden">
            <!-- Intersections and Roads are dynamically added or hardcoded for simple layout -->
            <!-- We will use a structure similar to React's laneContainer -->

            <!-- Score Board for Player 1 (Moved closer logic later if needed, but keeping separate) -->

            <!-- Lane 1 (Player 1) -->
            <div class="lane-container" id="lane-1">
                <!-- Main Traffic Light for Player 1 -->
                <div id="main-traffic-light-1" class="main-traffic-light hidden">
                    <div class="light red"></div>
                    <div class="light green"></div>
                </div>
                <!-- Score Board for Player 1 -->
                <div id="score-board-1" class="score-card">
                    Oyuncu 1
                    <div class="score-value">0 Puan</div>
                </div>

                <!-- NEW: Integrated Quiz Board for P1 -->
                <div id="p1-quiz-board" class="quiz-board">
                    <div class="q-header">
                        <div class="traffic-light-icon">ðŸ”´</div>
                        <h3 class="q-title">Soru HazÄ±rlanÄ±yor...</h3>
                    </div>
                    <div class="q-content">
                        <img id="p1-image" class="q-img" src="" alt="Sign">
                        <p id="p1-text" class="q-text">...</p>
                        <div id="p1-options" class="options-grid"></div>
                        <div id="p1-feedback" class="feedback-msg hidden"></div>
                    </div>
                </div>

                <div class="sidewalk left-sidewalk"></div>
                <div class="road-surface">

                    <!-- Center Line -->
                    <div class="center-line"></div>

                    <!-- Zebra Crossings -->
                    <div class="zebra-crossing z-28"></div>
                    <div class="zebra-crossing z-42"></div>
                    <div class="zebra-crossing z-58"></div>
                    <div class="zebra-crossing z-72"></div>

                    <!-- Traffic Light 1 Posts (Kept for logical stop points) -->
                    <div class="traffic-light-post p-28-left">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>
                    <div class="traffic-light-post p-43-right">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>

                    <!-- Traffic Light 2 Posts -->
                    <div class="traffic-light-post p-58-left">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>
                    <div class="traffic-light-post p-73-right">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>

                    <!-- Finish Line -->
                    <div class="finish-line"></div>

                    <!-- Player Car -->
                    <div class="player-car" id="car-1">
                        <img src="assets/car.png" alt="Player Car">
                    </div>
                </div>
                <div class="sidewalk right-sidewalk"></div>
            </div>

            <!-- Lane 2 (Player 2) - Hidden by default -->
            <div class="lane-container d-none" id="lane-2">
                <!-- Main Traffic Light for Player 2 -->
                <div id="main-traffic-light-2" class="main-traffic-light hidden">
                    <div class="light red"></div>
                    <div class="light green"></div>
                </div>
                <!-- Score Board for Player 2 -->
                <div id="score-board-2" class="score-card">
                    Oyuncu 2
                    <div class="score-value">0 Puan</div>
                </div>

                <!-- NEW: Integrated Quiz Board for P2 -->
                <div id="p2-quiz-board" class="quiz-board">
                    <div class="q-header">
                        <div class="traffic-light-icon">ðŸ”´</div>
                        <h3 class="q-title">Soru HazÄ±rlanÄ±yor...</h3>
                    </div>
                    <div class="q-content">
                        <img id="p2-image" class="q-img" src="" alt="Sign">
                        <p id="p2-text" class="q-text">...</p>
                        <div id="p2-options" class="options-grid"></div>
                        <div id="p2-feedback" class="feedback-msg hidden"></div>
                    </div>
                </div>

                <div class="sidewalk left-sidewalk"></div>
                <div class="road-surface">

                    <!-- Center Line -->
                    <div class="center-line"></div>

                    <!-- Zebra Crossings -->
                    <div class="zebra-crossing z-28"></div>
                    <div class="zebra-crossing z-42"></div>
                    <div class="zebra-crossing z-58"></div>
                    <div class="zebra-crossing z-72"></div>

                    <!-- Traffic Lights 1 -->
                    <div class="traffic-light-post p-28-left">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>
                    <div class="traffic-light-post p-43-right">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>


                    <!-- Traffic Lights 2 -->
                    <div class="traffic-light-post p-58-left">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>
                    <div class="traffic-light-post p-73-right">
                        <div class="pole"></div>
                        <div class="light-box">
                            <div class="light red"></div>
                            <div class="light green"></div>
                        </div>
                    </div>

                    <!-- Finish Line -->
                    <div class="finish-line"></div>

                    <!-- Player Car -->
                    <div class="player-car" id="car-2">
                        <img src="assets/car2.png" alt="Player Car">
                    </div>
                </div>
                <div class="sidewalk right-sidewalk"></div>
            </div>

        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="overlay">
            <div class="card">
                <h1>ðŸš¦ Trafik Ä°ÅŸaretleri Oyunu ðŸš—</h1>
                <p>Mod SeÃ§iniz:</p>
                <button class="btn" onclick="startGame(1)">Tek KiÅŸilik ðŸ‘¤</button>
                <button class="btn" onclick="startGame(2)">Ä°ki KiÅŸilik ðŸ‘¥</button>
            </div>
        </div>

        <!-- Countdown Overlay -->
        <div id="countdown-overlay" class="hidden">
            <div id="countdown-text">3</div>
        </div>

        <!-- Message Overlay -->
        <div id="message-overlay" class="hidden">
            DoÄŸru! ðŸŸ¢
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="overlay hidden">
            <div class="card">
                <h1>ðŸŽ‰ Tebrikler! ðŸŽ‰</h1>
                <h2 id="winner-text">Kazanan!</h2>
                <p id="final-score">Puan: 0</p>
                <button class="btn" onclick="location.reload()">Tekrar Oyna ðŸ”„</button>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>

</html>